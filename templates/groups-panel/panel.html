{% load static %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>billsnap</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
  <!-- Nucleo Icons -->
  <link href="{% static 'dashboard/assets/css/nucleo-icons.css' %}" rel="stylesheet" />
  <link href="{% static 'dashboard/assets/css/nucleo-svg.css' %}" rel="stylesheet" />
  <!-- Popper -->
  <script src="https://unpkg.com/@popperjs/core@2"></script>
  <!-- Main Styling -->
  <link href="{% static 'dashboard/assets/css/styles.css' %}" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
    integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
    integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous">
  </script>
 <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
    rel="stylesheet" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <link rel="stylesheet" href="{% static 'dashboard/styles1.css' %}">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
    rel="stylesheet" />
    <script
    src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
</head>
<style>
  .avatar {
  vertical-align: right;
  right: 50px;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  margin-left: 810%;
  margin-top: -35%;
}




.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 60px;
  overflow: auto;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
  right: 2%;
  margin-top: 15%;

}

.dropdown-content a {
  color:black;
  padding: 6px 36px;
  text-decoration: none;
  text-align: left;
  display: block;
}

.dropdown a:hover {background-color: #ddd;}

.show {display: block;}
</style>
<style>
  @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");
  html {
    box-sizing: border-box;
  }

  *,
  *:before,
  *:after {
    box-sizing: border-box;
  }

  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: #f9fafb;
    font-size: 70%;
    line-height: 1.4;
    font-family: "Inter", sans-serif;
    color: #6b7280;
    font-weight: 400;
  }
  @media only screen and (min-width: 600px) {
    body {
      justify-content: right;
      align-items: right;
      display: flex;
      height: 100vh;
      font-size: 100%;
    }
  }

  .button {
    -webkit-appearance: none;
       -moz-appearance: none;
            appearance: none;
    background: #16a34a;
    border-radius: 0.25em;
    color: white;
    cursor: pointer;
    display: inline-block;
    font-weight: 500;
    height: 3em;
    line-height: 3em;
    padding: 0 1em;
  }
  .button:hover {
    background-color:#3dcd58;
  }

  .details-modal {
    background: #ffffff;
    border-radius: 0.5em;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    left: 50%;
    max-width: 100%;
    pointer-events: none;
    position: absolute;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 50em;
    text-align: left;
    max-height: 140vh;
    display: flex;
    flex-direction: column;
  }
  .details-modal .details-modal-close {
    align-items: center;
    color: #111827;
    display: flex;
    height: 4.5em;
    justify-content: center;
    pointer-events: none;
    position: absolute;
    right: 0;
    top: 0;
    width: 4.5em;
  }
  .details-modal .details-modal-close svg {
    display: block;
  }
  .details-modal .details-modal-title {
    color: #111827;
    padding: 1.5em 2em;
    pointer-events: all;
    position: relative;
    width: calc(100% - 4.5em);
    height: 70px;
  }
  .details-modal .details-modal-title h1 {
    font-size: 1.25rem;
    font-weight: 600;
    line-height: normal;
  }
  .details-modal .details-modal-content {
    border-top: 1px solid #e0e0e0;
    padding: 2em;
    pointer-events: all;
    overflow: auto;
  }

  .details-modal-overlay {
    transition: opacity 0.2s ease-out;
    pointer-events: none;
    background: rgba(15, 23, 42, 0.8);
    position: fixed;
    opacity: 0;
    bottom: 0;
    right: 0;
    left: 0;
    top: 0;
  }
  details[open] .details-modal-overlay {
    pointer-events: all;
    opacity: 0.5;
  }

  details summary {
    list-style: none;
  }
  details summary:focus {
    outline: none;
  }
  details summary::-webkit-details-marker {
    display: none;
  }

  code {
    font-family: Monaco, monospace;
    line-height: 100%;
    background-color: #2d2d2c;
    padding: 0.1em 0.4em;
    letter-spacing: -0.05em;
    word-break: normal;
    border-radius: 7px;
    color: white;
    font-weight: normal;
    font-size: 1.75rem;
    position: relative;
    top: -2px;
  }

  .containerr {
    text-align: center;
    max-width: 40em;
    padding: 2em;
  }
  .containerr > h1 {
    font-weight: 700;
    font-size: 2rem;
    line-height: normal;
    color: #111827;
  }
  .containerr > p {
    margin-top: 2em;
    margin-bottom: 2em;
  }
  .containerr sup {
    font-size: 1rem;
    margin-left: 0.25em;
    opacity: 0.5;
    position: relative;
  }
  </style>
<body>
<header>
    <nav class="navbar navbar-expand-lg fixed-top p-md-0">
      <div class="container-fluid">
        <div class="d-md-none menu">
          <i class="fa-solid fa-bars"></i>
        </div>
        <div class="d-none d-md-none close">
           <i class="fa-solid fa-xmark fa-xl"></i>
        </div>
        <a class="navbar-brand d-none d-md-block mt-1" href="#">
        <h2 class="h2">BILL SNAP</h2>

        <img src="{% static 'dashboard/assets/image/profile1.jpg'%}" alt="Avatar" class="avatar" onclick="myFunction()">
        <div id="myDropdown" class="dropdown-content">
          <a href="customerlist.html">Customer</a>
          <a href="plans.html">Plans</a>
          <a href="index.html">Log Out</a>
        </div>
        </div>
        </a>
        <div class="d-flex ms-auto gap-4 pe-3">

        </div>
      </div>
    </nav>
  </header>
<div class="main mx-auto">
  <dialog id="myDialog">This is a notification window...!!!!!!
    <button onclick="closeDialog()" class="close">&times;</button>
  </dialog>
  <div class="row">
    <div class="left d-none d-md-block col-md-4">
      <div class="menu-frag d-flex flex-column p-3 ps-4 gap-3">
        <div>
          <i class='bx bx-grid-alt' ></i>

          <a href="{% url 'dashboard' slug %}" id="active">Dashboard</a>
        </div>
        <div>
          <i class='bx bx-analyse' ></i>

          <a href="{% url 'estimates' slug %}">Estimates</a>
        </div>
        <div>
          <i class='bx bx-cog' ></i>

          <a href="{% url 'update-app' slug %}">App Settings</a>
        </div>
      </div>
      <hr>
      <div class="menu-frag mt-3 ps-3">
        <h4>Customer</h4>
        <div class="customer-frag d-flex flex-column p-3 pt-1 gap-3">
          <div>
            <i class='bx bx-box' ></i>
            <a href="{% url 'add-customer-form' slug %}">Create</a>
          </div>
          <div>
            <i class='bx bx-box' ></i>
            <a href="{% url 'customerlist' slug %}">Customer List</a>
          </div>
          <div>
            <i class='bx bx-log-out' ></i>
            <a href="{% url 'bulkupload' slug %}">Bulk Upload</a>
          </div>
          <div>
            <i class='bx bx-archive-in' ></i>
            <a href="{% url 'groups-panel' slug %}">Manage Group</a>
          </div>
          <div>
            <i class='bx bx-bar-chart' ></i>
            <a href="pending.html">Pending approvals</a>
          </div>
          <div>
            <i class='bx bx-message' ></i>
            <a href="message.html">Messaging</a>
          </div>
        </div>
      </div>
      <hr>
      <div class="menu-frag mt-3 ps-3">
        <h4>Payments</h4>
        <div class="pay-frag d-flex flex-column  p-3 pt-1  gap-3">
          <div>
            <i class='bx bx-list-ul' ></i>
            <a href="transcations.html">Transactions </a>
          </div>

          <div>
            <i class='bx bx-coin-stack' ></i>
            <a href="{% url 'plans-panel' slug %}">Plans</a>
          </div>
          <div>
            <i class='bx bx-heart' ></i>
            <a href="request.html">Requests</a>
          </div>
        </div>
      </div>

    </div>

    <div class="col right" id="customer-list">
      <div class="row text-center text-black">
      <div class="col-lg-8 mx-auto">
      <h2>{{slug}} Groups</h2>
      </div>

  </div>
  <div class="container">
    <div class='w3-container w3-padding w3-round w3-half w3-border'>
      <button id="button" onclick="showForm();" class=' w3-round w3-button w3-blue'>
          Create new group
      </button>
      <form id="group_form" style="display:none;" enctype='multipart/form-data' method='POST' action="{% url 'groups-panel' slug %}">
          <h5 class='w3-center'>Create New group</h5>
          {% csrf_token %}
          {{ form|crispy }}
          <button style='width:100%;' type='submit' class='w3-margin w3-round w3-green w3-button' >Create</button>
      </form>
    </div>
    <div class="row text-center">
      {% for group in groups %}
        <div class="col-xl-3 col-sm-6 mb-5">
            <div class="bg-white rounded shadow-sm py-5 px-4" >
                <div class="dropdown" style="float:right;">
                    <div class="test"></div>
                    <div class="dropbtn"></div>

                  </div>

                <h5 class="mb-0">{{group.title}}</h5><span class="small text-uppercase text-muted">The Software with the complete billing system</span><br>
                <br>
                <button class="buttonview"><a href="{% url 'group' group.slug %}">Open</a></button></button>
                <button class="buttonview"><a href="{% url 'delete-group' group.slug slug %}">delete</a></button></button>
            </div>
        </div>
        {% endfor %}


</div>
  </div>
</div>
</div>
</section>

</div>

<script>
  function showForm(){
      document.getElementById('group_form').style.display = "block";
      document.getElementById('button').style.display = "none";
  }
</script>
</body>



<script>
    "use strict";
let leftie = document.querySelector('.left')
let menuh = document.querySelector('.menu')
let closeh = document.querySelector('.close')
let right = document.querySelector('.right')


menuh.addEventListener('click', function () {
  menuh.classList.toggle('d-none')
  closeh.classList.toggle('d-none')
  leftie.classList.toggle('d-none')
  right.classList.toggle('overlay')

})
closeh.addEventListener('click', function () {
  menuh.classList.toggle('d-none')
  closeh.classList.toggle('d-none')
  leftie.classList.toggle('d-none')
  right.classList.toggle('overlay')

})
</script>


</html>