{% load static %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>billsnap</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
    integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
    integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous">
  </script>
 <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
  <link rel="stylesheet" href="{% static 'dashboard/styles1.css' %}">
  <link rel="stylesheet" href="{% static "w3.css"%}">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
    rel="stylesheet" />
    <script
    src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
</head>
<style>
    .avatar {
    vertical-align: right;
    right: 50px;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    margin-left: 810%;
    margin-top: -35%;
  }




  .dropdown-content {
    display: none;
    position: absolute;
    background-color: #f1f1f1;
    min-width: 60px;
    overflow: auto;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
    right: 2%;
    margin-top: 15%;

  }

  .dropdown-content a {
    color:black;
    padding: 6px 36px;
    text-decoration: none;
    text-align: left;
    display: block;
  }

  .dropdown a:hover {background-color: #ddd;}

  .show {display: block;}
  </style>
  <body>
  <header>
      <nav class="navbar navbar-expand-lg fixed-top p-md-0">
        <div class="container-fluid">
          <div class="d-md-none menu">
            <i class="fa-solid fa-bars"></i>
          </div>
          <div class="d-none d-md-none close">
             <i class="fa-solid fa-xmark fa-xl"></i>
          </div>
          <a class="navbar-brand d-none d-md-block mt-1" href="#">
          <h2 class="h2">BILL SNAP</h2>

          <img src="{% static 'dashboard/assets/image/profile1.jpg'%}" alt="Avatar" class="avatar" onclick="myFunction()">
          <div id="myDropdown" class="dropdown-content">
            <a href="customerlist.html">Customer</a>
            <a href="plans.html">Plans</a>
            <a href="index.html">Log Out</a>
          </div>
          </div>
          </a>
          <div class="d-flex ms-auto gap-4 pe-3">

          </div>
        </div>
      </nav>
    </header>
  <div class="main mx-auto">
    <dialog id="myDialog">This is a notification window...!!!!!!
      <button onclick="closeDialog()" class="close">&times;</button>
    </dialog>
    <div class="row">
      <div class="left d-none d-md-block col-md-4"style="padding-top:15px;">
        <div class="menu-frag d-flex flex-column p-3 ps-4 gap-3">
          <div>
            <i class='bx bx-grid-alt' ></i>
            <a href="{% url 'dashboard' slug %}" >Dashboard</a>
          </div>
          <div>
            <i class='bx bx-analyse' ></i>

            <a href="{% url 'estimates' slug %}"id="active">Estimates</a>
          </div>
          <div>
            <i class='bx bx-cog' ></i>

            <a href="{% url 'update-app' slug %}">App Settings</a>
          </div>
        </div>
        <hr>
        <div class="menu-frag mt-3 ps-3">
          <h4>Customer</h4>
          <div class="customer-frag d-flex flex-column p-3 pt-1 gap-3">
            <div>
              <i class='bx bx-box' ></i>
              <a href="{% url 'add-customer-form' slug %}">Create</a>
            </div>
            <div>
              <i class='bx bx-box' ></i>
              <a href="{% url 'customerlist' slug %}">Customer List</a>
            </div>
            <div>
              <i class='bx bx-log-out' ></i>
              <a href="bulk.html">Bulk Upload</a>
            </div>
            <div>
              <i class='bx bx-archive-in' ></i>
              <a href="{% url 'groups-panel' slug %}">Manage Group</a>
            </div>
            <div>
              <i class='bx bx-bar-chart' ></i>
              <a href="pending.html">Pending approvals</a>
            </div>
            <div>
              <i class='bx bx-message' ></i>
              <a href="message.html">Messaging</a>
            </div>
          </div>
        </div>
        <hr>
        <div class="menu-frag mt-3 ps-3">
          <h4>Payments</h4>
          <div class="pay-frag d-flex flex-column  p-3 pt-1  gap-3">
            <div>
              <i class='bx bx-list-ul' ></i>
              <a href="transcations.html">Transactions </a>
            </div>

            <div>
              <i class='bx bx-coin-stack' ></i>
              <a href="{% url 'plans-panel' slug %}">Plans</a>
            </div>
            <div>
              <i class='bx bx-heart' ></i>
              <a href="request.html">Requests</a>
            </div>
          </div>
        </div>

      </div>

    <div class="col right" id="customer-list">
      <canvas id="bar-chart-grouped" width="700" height="300px"></canvas><br><br>
      <h4>Customer Plans</h4><br>
      <div class="table-responsive">
        <table class="table table-bordered" id='table_filter'>
          <thead>
              <tr>
                  <th>Customer Id</th>
                  <th>Software</th>
                  <th>Plans</th>
                  <th>End Date</th>
                  <th>Status</th>
              </tr>
          </thead>
          <tbody>
              <tr>
                  <td>212 </td>
                  <td>VinPus</td>
                  <td>Yearly</td>
                  <td>02-09-2023</td>
                  <td>Paid</td>
              </tr>
              <tr>
                <td>123</td>
                <td>VinPro</td>
                <td>Monthly</td>
                <td>21-11-2022</td>
                <td>Unpaid</td>
            </tr>
            <tr>
              <td>152 </td>
              <td>MDAS</td>
              <td>Yearly</td>
              <td>14-12-2022</td>
              <td>Paid</td>
          </tr>
          <tr>
            <td>129 </td>
            <td>VinPlus</td>
            <td>Yearly</td>
            <td>03-05-2023</td>
            <td>Paid</td>
        </tr>
        <tr>
          <td>912 </td>
          <td>MDAS</td>
          <td>Monthly</td>
          <td>8-04-2022</td>
          <td>Paid</td>
      </tr>
      <tr>
        <td>712 </td>
        <td>1-5d</td>
        <td>regular</td>
        <td>2 days</td>
        <td>approved</td>
    </tr>

          </tbody>
      </table>

      </div>

<script>
  new Chart(document.getElementById("bar-chart-grouped"), {
    type: 'bar',
    data: {
      labels: ["1999", "2005", "2015", "2020","2025"],
      datasets: [
        {
          label: "Sucesses",
          backgroundColor: "#3e95cd",
          data: [633,921,1283,2478,3657]
        }, {
          label: "Failure",
          backgroundColor: "#8e5ea2",
          data: [408,347,275,174,110]
        }
      ]
    },
    options: {
      title: {
        display: true,
        text: 'BillSnap Growth (millions)'
      }
    }
});
</script>





      <script>
      var xValues = [50,60,70,80,90,100,110,120,130,140,150];
      var yValues = [7,8,8,9,9,9,10,11,14,14,15];

      new Chart("myChart", {
        type: "line",
        data: {
          labels: xValues,
          datasets: [{
            fill: false,
            lineTension: 0,
            backgroundColor: "black",
            borderColor:"#3dcd58",
            data: yValues
          }]
        },
        options: {
          legend: {display: false},
          scales: {
            yAxes: [{ticks: {min: 6, max:16}}],
          }
        }
      });
      </script>
       <div id="piechart"></div>

       <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

       <script type="text/javascript">
       // Load google charts
       google.charts.load('current', {'packages':['corechart']});
       google.charts.setOnLoadCallback(drawChart);

       // Draw the chart and set the chart values
       function drawChart() {
         var data = google.visualization.arrayToDataTable([
         ['Task', 'Hours per Day'],
         ['Orders', 8],
         ['pending', 2],
         ['approval', 4],
         ['waiting', 2],
         ['done', 8]
       ]);

         // Optional; add a title and set the width and height of the chart
         var options = {'title':'My Average Day', 'width':550, 'height':400};

         // Display the chart inside the <div> element with id="piechart"
         var chart = new google.visualization.PieChart(document.getElementById('piechart'));
         chart.draw(data, options);
       }
       </script>

    </div>
  </div>




</div>
</div>

</section>
</body>



<script>
    "use strict";
let leftie = document.querySelector('.left')
let menuh = document.querySelector('.menu')
let closeh = document.querySelector('.close')
let right = document.querySelector('.right')


menuh.addEventListener('click', function () {
  menuh.classList.toggle('d-none')
  closeh.classList.toggle('d-none')
  leftie.classList.toggle('d-none')
  right.classList.toggle('overlay')

})
closeh.addEventListener('click', function () {
  menuh.classList.toggle('d-none')
  closeh.classList.toggle('d-none')
  leftie.classList.toggle('d-none')
  right.classList.toggle('overlay')

})
/* When the user clicks on the button,
toggle between hiding and showing the dropdown content */
function myFunction() {
    document.getElementById("myDropdown").classList.toggle("show");
  }

  // Close the dropdown if the user clicks outside of it
  window.onclick = function(event) {
    if (!event.target.matches('.avatar')) {
      var dropdowns = document.getElementsByClassName("dropdown-content");
      var i;
      for (i = 0; i < dropdowns.length; i++) {
        var openDropdown = dropdowns[i];
        if (openDropdown.classList.contains('show')) {
          openDropdown.classList.remove('show');
        }
      }
    }
  }
</script>


</html>